<app-header></app-header>


<section class="page-title bg-1">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="block text-center">
          <span class="text-white">Book your Seat</span>
          <h1 class="text-capitalize mb-5 text-lg">Appoinment</h1>

          <!-- <ul class="list-inline breadcumb-nav">
            <li class="list-inline-item"><a href="index.html" class="text-white">Home</a></li>
            <li class="list-inline-item"><span class="text-white">/</span></li>
            <li class="list-inline-item"><a href="#" class="text-white-50">Book your Seat</a></li>
          </ul> -->
        </div>
      </div>
    </div>
  </div>
</section>


<!-- src/app/rendez-vous/rendez-vous.component.html -->
<section class="appoinment section">
  <div class="container py-5">
    <!-- Header and Back Button -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="title-color"><i class="icofont-calendar mr-2"></i>Gestion des Rendez-vous</h2>
      <a class="btn btn-main btn-round-full" routerLink="/home"><i class="icofont-home mr-1"></i>Retour</a>
    </div>

    <!-- Appointment Booking for Patients -->
    <div *ngIf="currentUser?.role === 'patient' && medecinId" class="row">
      <!-- Emergency Contact -->
      <div class="col-lg-4">
        <div class="mt-3">
          <div class="feature-icon mb-3">
            <img src="assets/image.png" alt="Service d'Urgence" class="support-image">
          </div>
          <span class="h3">Service d'Urgence</span>
          <h2 class="text-color mt-3">+216 55 44 33 22</h2>
        </div>
      </div>

      <!-- Booking Form -->
      <div class="col-lg-8">
        <div class="appoinment-wrap mt-5 mt-lg-0 pl-lg-5">
          <h2 class="mb-2 title-color">Prendre un rendez-vous</h2>
          <p class="mb-4">Prenez un rendez-vous avec <strong>{{ doctorDetails?.name }}</strong> ({{ doctorDetails?.specialite }}).</p>
          <form class="appoinment-form">
            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <select class="form-control" [(ngModel)]="selectedDisponibiliteId" name="disponibilite">
                    <option disabled selected >Choisir une disponibilité</option>
                    <option *ngFor="let disp of disponibilites" [value]="disp.id">
                      {{ disp.jour }} | {{ disp.heureDebut }} - {{ disp.heureFin }}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <input type="text" class="form-control" value="{{ currentUser?.name }}" disabled placeholder="Nom complet">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <input type="text" class="form-control" value="{{ doctorDetails?.specialite }}" disabled placeholder="Spécialité">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <input type="number" class="form-control" value="{{ currentUser?.phone }}"  placeholder="Numéro de téléphone">
                </div>
              </div>
            </div>
            <div class="form-group-2 mb-4">
              <textarea class="form-control" rows="6"  name="message" placeholder="Votre message (facultatif)"></textarea>
            </div>
            <button class="btn btn-main btn-round-full" (click)="prendreRendezVous()">Prendre le rendez-vous<i class="icofont-simple-right ml-2"></i></button>
          </form>
        </div>
      </div>
    </div>


    <ng-template #noRendezVous>
      <div class="alert alert-info mt-3">Aucun rendez-vous pour le moment.</div>
    </ng-template>
  </div>
</section>
<app-footer></app-footer>